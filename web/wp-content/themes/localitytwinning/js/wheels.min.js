jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});
var per_search=10;var is_searching=false;function show_loading(){jQuery("#vehicle-finder .results:eq(0)").css("opacity",0.5).prepend('<img id="loading-icon" src="/wp-content/themes/wheels/img/ajax-loader.gif" style="position:absolute; left:600px; top:250px; width: 100px; z-index:9999">')}function hide_loading(){jQuery("#vehicle-finder .results:eq(0)").css("opacity",1);jQuery("#loading-icon").remove()}function doSearch(){if(is_searching){return false}is_searching=true;$("#start").val("0");var a=jQuery("#vehicle-filters").serialize();$.ajax({data:a,url:"/search-vehicle-finder.php",type:"post",dataType:"json",beforeSend:function(){show_loading()},success:function(c){is_searching=false;hide_loading();var b=(c.total>1)?c.total+" result":c.total+" results";jQuery(".results-bar .results-count").html("<strong>Your Search:&nbsp;</strong>"+b);jQuery("#vehicle-finder .search-result").empty();jQuery("#vehicle-finder .search-result").append(c.result);var d=c.total-(parseInt(jQuery("#start").val())+per_search);if(d>0){jQuery("#vehicle-finder .search-result").append('<div class="load-more"><a href="#" onclick="JavaScript:loadMore(); return false;"><strong>Load more...</strong>&nbsp;'+d+" more results </a></div>");$("#start").val(per_search)}jQuery(".trim-selector").change(function(){window.location.href="/vehicles/"+jQuery(this).val()})},error:function(){is_searching=false}})}function loadMore(){if(is_searching){return false}is_searching=true;var a=jQuery("#vehicle-filters").serialize();$.ajax({data:a,url:"/search-vehicle-finder.php",type:"post",dataType:"json",beforeSend:function(){show_loading()},success:function(c){is_searching=false;hide_loading();$(".load-more").remove();var b=(c.total>1)?c.total+" result":c.total+" results";jQuery(".results-bar .results-count").html("<strong>Your Search:&nbsp;</strong>"+b);jQuery("#vehicle-finder .search-result").append(c.result);var d=c.total-(parseInt(jQuery("#start").val())+per_search);if(d>0){jQuery("#vehicle-finder .search-result").append('<div class="load-more"><a href="#" onclick="JavaScript:loadMore(); return false;"><strong>Load more...</strong>&nbsp;'+d+" more results </a></div>")}$("#start").val(parseInt(jQuery("#start").val())+per_search)},error:function(){is_searching=false}});return false}function updateTrim(){var a=jQuery("#finder-filter-make").val();var b=jQuery("#finder-filter-model").val();if(b=="none"){return false}jQuery.ajax({url:"/vehicle-finder",type:"POST",data:"find-trim=true&&make="+a+"&&model="+b,dataType:"json",beforeSend:function(){jQuery("#vehicle-filters .trim-container").prepend('<img id="trim-loader" width="22" src="/wp-content/themes/wheels/img/ajax-loader.gif" style="position: absolute; right: -21px;">')},success:function(d){jQuery("#trim-loader").remove();var c=jQuery("#finder-filter-trim").parent().html('<select id="finder-filter-trim" data-role="none" name="trim" data-controller="ComboboxController" class="filter-selector ui-menu-trim ui-light">').find("select");if(d.length){c.append(jQuery("<option />").attr("value","none").text("All"));jQuery.each(d,function(e){c.append(jQuery("<option />").attr("value",d[e]).text(d[e]))});c.combobox();jQuery("#finder-filter-trim").bind("comboboxselected",function(e,f){doSearch()})}else{c.append(jQuery("<option />").attr("value","").text(""));c.combobox()}},error:function(){jQuery("#trim-loader").remove()}})}jQuery(document).ready(function(){jQuery("#finder-filter-make").bind("comboboxselected",function(d,e){updateModel("finder-filter-model",e.item.className,"","trim");updateTrim()});jQuery("#vehicle-filters #year-slider").bind("slidestop slidecreate",function(e,f){if(e.type=="slidecreate"){var d=jQuery(this).slider("values");jQuery(".yearRange:first").val(d[0]);jQuery(".yearRange:last").val(d[1])}else{jQuery(".yearRange:first").val(f.values[0]);jQuery(".yearRange:last").val(f.values[1]);doSearch()}});jQuery("#vehicle-filters #efficiency-slider").bind("slidestop slidecreate",function(d,f){if(d.type=="slidecreate"){var e=jQuery(this).slider("value",5);jQuery(".efficiencyRange:first").val(5);jQuery(".efficiencyRange:last").val(50)}else{jQuery(".efficiencyRange:first").val(f.value);jQuery(".efficiencyRange:last").val(50);doSearch()}});jQuery("#vehicle-filters #price-slider").bind("slidestop slidecreate",function(e,f){if(e.type=="slidecreate"){var d=jQuery(this).slider("values");d[0]=1000;d[1]=400000;if(typeof(PRICE_END)!="undefined"){d[1]=PRICE_END}jQuery(".priceRange:first").val(d[0]);jQuery(".priceRange:last").val(d[1]);jQuery(this).slider("values",[d[0],d[1]])}else{jQuery(".priceRange:first").val(f.values[0]);jQuery(".priceRange:last").val(f.values[1]);doSearch()}});jQuery("#research-vehicles #price-slider").bind("slidestop slidecreate",function(d,f){if(d.type=="slidecreate"){var e=400000;if(typeof(PRICE_END)!="undefined"){e=PRICE_END}jQuery(this).slider("value",e);jQuery(".priceRangeTop:first").val(1000);jQuery(".priceRangeTop:last").val(e)}else{jQuery(".priceRangeTop:first").val(1000);jQuery(".priceRangeTop:last").val(f.value)}});jQuery('#vehicle-filters input[type="checkbox"]').live("click",function(d){d.stopPropagation();doSearch()});jQuery("#vehicle-filters .filter-selector").bind("comboboxselected",function(d,e){doSearch()});jQuery("#vehicle-filters #km-slider").bind("slidestop slidecreate",function(d,f){if(d.type=="slidecreate"){var e=jQuery(this).slider("value");jQuery(".kmRange:first").val(0);jQuery(".kmRange:last").val(e)}else{jQuery(".kmRange:first").val(0);jQuery(".kmRange:last").val(f.value);doSearch()}});jQuery("#vehicle-filters #torque-slider").bind("slidestop slidecreate",function(d,f){if(d.type=="slidecreate"){var e=jQuery(this).slider("value");jQuery(".torqueRange:first").val(0);jQuery(".torqueRange:last").val(e)}else{jQuery(".torqueRange:first").val(0);jQuery(".torqueRange:last").val(f.value);doSearch()}});jQuery("#vehicle-filters #hp-slider").bind("slidestop slidecreate",function(d,f){if(d.type=="slidecreate"){var e=jQuery(this).slider("value");jQuery(".horsepowerRange:first").val(0);jQuery(".horsepowerRange:last").val(e)}else{jQuery(".horsepowerRange:first").val(0);jQuery(".horsepowerRange:last").val(f.value);doSearch()}});jQuery("#sort-filter").bind("comboboxselected",function(d,e){jQuery("#orderby").val(e.item.value);doSearch()});if(typeof(MAKE_SELECTED)!="undefined"&&MAKE_SELECTED!="none"){if(MODEL_SELECTED!="undefined"){var a=MODEL_SELECTED}else{var a="all"}var b=jQuery("#filter-make").find(":selected");if(typeof(b)!="undefined"||c!="none"){setTimeout(function(){updateModel("filter-model",b.attr("class"),a)},500)}var c=jQuery("#finder-filter-make").find(":selected");if(typeof(c)!="undefined"||c!="none"){setTimeout(function(){updateModel("finder-filter-model",c.attr("class"),a);setTimeout(function(){updateTrim()},500)},500)}}if(typeof(VEHICLE_FINDER_LOADED)!="undefined"){jQuery("#orderby").val("year desc");setTimeout("doSearch()",1000)}});
window.wheels=new Object();window.wheels.ease="easeInOutQuad";window.wheels.duration=750;window.wheels.easeAlt="easeInOutQuad";window.wheels.durationAlt=300;jQuery(function(b){b.Body=b("body");b.Window=b(window);b.isMobile=(b.Body.hasClass("webkit-mobile")||(navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i)));b.Scroll=(b.browser.mozilla||b.browser.msie)?b("html"):b.Body;jQuery.fn.uislider=jQuery.fn.slider;if(b.isMobile){b.Body.addClass("mobile  w"+screen.width+" h"+screen.height);var a=navigator.userAgent.toLowerCase();if(a.match(/(iphone)/)){b.Body.addClass("iphone")}if(a.match(/(ipod)/)){b.Body.addClass("ipod")}if(a.match(/(ipad)/)){b.Body.addClass("ipad")}b(document).bind("mobileinit",function(){b.extend(b.mobile,{ajaxEnabled:false,ajaxLinksEnabled:false,ajaxFormsEnabled:false,metaViewportContent:false,autoInitialize:false})});b(document.body).append('<script src="/js/libs/jquery.mobile-1.0.min.js"><\\/script>')}b("[data-controller]").Instantiate()});(function(a){a.fn.Instantiate=function(c){var b={};if(c){a.extend(b,c)}this.each(function(){var e=a(this),d=e.attr("data-controller");if(e[d]){e[d]()}})}})(jQuery);(function(a){a.Events={SCROLL:"scroll",RESIZE:"resize",OPEN:"open",CLOSE:"close"}})(jQuery);(function(a){a.fn.Scrollable=function(c){var b={};if(c){a.extend(b,c)}this.each(function(){var e=a(this);a.Window.bind("scroll",d);function d(){e.triggerHandler(a.Events.SCROLL)}});return this};a.fn.MainNavigationController=function(){this.each(function(){var i=a(this),h=a(".navbar li",this),c=a(".navbar",i).offset().top,j=(a(".navbar",i).outerHeight(true)+a(".toolbar",i).outerHeight(true))+a(".subnav",i).outerHeight(true);if(a.isMobile&&a.Body.hasClass("mobile-page")){return}a('<div class="header-fixed-buffer"></div>').insertBefore(i);a(".header-fixed-buffer").css({height:j}).hide();a("#bg-navprimary-menu-2 .experts ul li").matchItemHeights();i.Scrollable().bind(a.Events.SCROLL,b);i.trigger(a.Events.SCROLL);h.bind("mouseenter",e).bind("mouseleave",g);a(".main-menu-window").bind("mouseenter",d).bind("mouseleave",f);function b(){if(a.Scroll.scrollTop()>c){i.addClass("fixed");h.removeClass("hover");a(".main-menu-window").hide().css({top:a.Scroll.scrollTop()+48});a(".header-fixed-buffer").show()}else{i.removeClass("fixed");a(".main-menu-window").css({top:a("#mainnavbar").offset().top+48});a(".header-fixed-buffer").hide()}a(".ui-menu").hide()}function d(l){i.trigger(a.Events.SCROLL);a(this).show();var k=a("#"+a(this).attr("data-menuitem"));if(k!=""){a(k).addClass("hover")}}function f(l){a(this).hide();var k=a("#"+a(this).attr("data-menuitem"));if(k!=""){a(k).removeClass("hover")}}function e(k){k.preventDefault();i.trigger(a.Events.SCROLL);a(this).addClass("hover");a(".main-menu-window").hide();if(a(this).attr("data-window")!=""){a("#"+a(this).attr("data-window")).show()}}function g(k){k.preventDefault();a(".main-menu-window").hide();a(this).removeClass("hover")}})};a.fn.HomepageSidebarController=function(){this.each(function(){var c=a(this);a(".slider",c).bind("slidecreate",function(f,d){a(".min-value",a(this).parent()).appendTo(a(".ui-slider-handle:eq(0)",this))});a("#year-home-slider",c).bind("slide",function(f,d){b(a(".min-value",this),(d.value)+"+")});a("#year-home-slider",c).uislider({range:"max",value:2004,min:1999,max:2013,step:1});b(a("#year-home-slider .min-value",c),a("#year-home-slider",c).uislider("values",0)+"+");function b(d,e){if(e){d.text(e)}}})};a.fn.MainHeaderController=function(){this.each(function(){var c=a(this);if(a.isMobile&&Modernizr.inputtypes.range){a(".slider",c).empty().append('<input data-role="none" id="price-slider-control" type="range" min="1000" max="100000" value="20000" step="1000" name="slider" />');a("#price-slider-control").change(function(d){b(a(".price-container .min-value",c),"< $"+(d.target.value/1000)+"K")})}else{a(".slider",c).bind("slidecreate",function(f,d){a(".min-value",a(this).parent()).appendTo(a(".ui-slider-handle:eq(0)",this));a(".max-value",a(this).parent()).appendTo(a(".ui-slider-handle:eq(1)",this))});a("#price-slider",c).bind("slide",function(f,d){b(a(".min-value",this),"< $"+(d.value/1000)+"K")});a("#price-slider",c).uislider({range:"min",value:20000,min:1000,max:400000,step:1000});b(a("#price-slider .min-value",c),"< $"+(a("#price-slider",c).uislider("values",0)/1000)+"K")}function b(d,e){if(e){d.text(e)}}})};a.fn.ReviewNavController=function(){this.each(function(){var k=a(this),j=a("li",k),o=(a("#mainnavbar").outerHeight(true)+a("#toolnavbar").outerHeight(true))-a("#subnavbar").outerHeight(true),c=k.offset().top-147,m=a(".section"),e=false;if(a.isMobile){if(k.find(".navigation").length==0&&a.Body.hasClass("mobile-page")){k.prepend('<a class="nav left ui-link">Left</a><a class="nav right ui-link">Right</a>')}var n=0,i=1,f=a("#review-nav li").length-1;a("#review-nav li").each(function(){n+=a(this).outerWidth(true)});a("#review-nav").wrap("<div class='viewport' />");a("#review-nav").width(n);a(".viewport").addClass("scrollable scroll-y");k.bind("swipeleft",function(p){p.preventDefault();l()}).bind("swiperight",function(p){p.preventDefault();h()});k.find(".left").bind("click",function(p){p.preventDefault();h()});k.find(".right").bind("click",function(p){p.preventDefault();l()});function h(){if(i>1){i--}g(i)}function l(){if(i<f){i++}g(i)}function g(q){var p=a("#review-nav li:eq("+(q-1)+")").position().left*-1;a("#review-nav").stop().animate({left:p},{duration:window.wheels.duration,easing:window.wheels.ease})}return}a('<div class="fixed-buffer"></div>').insertBefore(k);a(".fixed-buffer").css({height:k.outerHeight(true)}).hide();k.Scrollable().bind(a.Events.SCROLL,b);k.trigger(a.Events.SCROLL);function b(){if(a.Scroll.scrollTop()>c){k.addClass("fixed");a(".fixed-buffer").show()}else{k.removeClass("fixed");a(".fixed-buffer").hide()}m.each(function(q){if(a.inview(a(this),{threshold:-250})){m.removeClass("inview");a(this).addClass("inview");if(!e){var p=m.index(a(this));j.removeClass("active");a(j[p]).addClass("active")}}})}j.bind("click",d);function d(q){q.preventDefault();e=true;j.removeClass("active");var p=a("#mainnavbar").outerHeight(true)+a("#toolnavbar").outerHeight(true)+a("#review-nav").outerHeight();a.Scroll.animate({scrollTop:a(m[j.index(a(this))]).offset().top-(p)},{duration:window.wheels.duration,easing:window.wheels.ease,complete:function(){setTimeout(function(){m.each(function(s){if(Math.floor(a(this).offset().top-p)==a.Scroll.scrollTop()){var r=m.index(a(this));j.removeClass("active");a(j[r]).addClass("active")}});e=false;if(a.Window.scrollTop()+a.Window.height()==a(document).height()){j.removeClass("active");a(j[j.length-1]).addClass("active")}},150)}})}})};a.fn.PollController=function(){this.each(function(){var c=a(this);c.bind("click",b);function b(d){d.preventDefault();a('[data-controller="PollController"]').removeClass("on");a(this).addClass("on")}})};a.fn.ModalTriggerController=function(){this.each(function(){var b=a(this);b.bind("click",c);function c(d){d.preventDefault();$modal=a(a(this).attr("data-modal"));if($modal.length>0){$modal.trigger(a.Events.OPEN)}}})};a.fn.ModalController=function(){this.each(function(){var d=a(this),c=d.find(".modal");a("a.close",c).bind("click",b);function b(f){f.preventDefault();$modal=a(this).parents(".modal");$modal.hide()}c.bind(a.Events.OPEN,e);function e(f){f.preventDefault();$modal=a(this);if($modal&&$modal.is(":hidden")){c.hide();$modal.show();a(".mask",$modal).css({height:a(document).height(),width:a.Window.width()});a(".content",$modal).css("top",((a(window).height()-a(".content",$modal).outerHeight())/2));a(".content",$modal).css("left",((a(window).width()-a(".content",$modal).outerWidth())/2))}}})};a.fn.PollController=function(){this.each(function(){var i=a(this),k=a("form",i),g=a(".poll-results",i),f=a("#view-poll-results",i),c=a("#view-poll-form",i);k.bind("submit",b);f.bind("click",d);c.bind("click",j);function d(l){l.preventDefault();h()}function j(l){l.preventDefault();e()}function b(l){l.preventDefault();h()}function e(){k.show();g.hide()}function h(){k.hide();g.show()}})};a.fn.ReaderOpinionController=function(){this.each(function(){var g=a(this),c=a(".vehicles-list li",g),f=a(".opinions-list li",g),d=a(".nub",g),b=[74,232,404,590,760];a(".opinions").height(a(".opinions-list li:eq(0)").outerHeight());c.bind("mouseenter",e);function e(i){var h=a(".vehicles-list li",g).index(a(this));f.hide();a(".opinions-list li:eq("+h+")").show();d.css("left",b[h]);a(".opinions").height(a(".opinions-list li:eq("+h+")").outerHeight())}})};a.fn.CarouselController=function(){this.each(function(){var c=a(this),e=a(".item",c),d=c.attr("data-usebullets");var b='<ul class="carousel-bullets" data-for="'+c.attr("id")+'">';e.each(function(f){if(f==0){b+='<li class="active">'+f+"</li>"}else{b+="<li>"+f+"</li>"}});b+="</ul>";if(d!="false"){c.after(b)}c.carousel({interval:10000});c.carousel("pause");a(".item img",c).imgscale({parent:".feature-container"});$bullets=a('.carousel-bullets[data-for="'+c.attr("id")+'"] li');$bullets.bind("click",function(f){f.preventDefault();a(this,c).addClass("active").siblings().removeClass("active");c.carousel(parseInt(a(this).text()));setTimeout(function(){c.carousel("pause")},1500)});c.bind("slide",function(f){e.css({"z-index":6999});a(".item.next",c).css({"z-index":7001});a(".item.prev",c).css({"z-index":7001})});c.bind("slid",function(g){var f=e.index(a(".item.active",c));a('.carousel-bullets[data-for="'+c.attr("id")+'"] li').removeClass("active");a('.carousel-bullets[data-for="'+c.attr("id")+'"] li:eq('+f+")").addClass("active")});a("a.carousel-control.left, a.carousel-control.right",c).bind("click",function(f){setTimeout(function(){c.carousel("pause")},1500)})})};a.fn.ComboboxController=function(){this.each(function(){var d=a(this),b=d.attr("class").split(" "),c="";if(a.isMobile){return}a.each(b,function(f,e){c+="."+e});d.combobox();$autocomplete=a(".ui-autocomplete-input"+c);if(d.attr("data-readonly")=="true"){a(".ui-autocomplete-input"+c).attr("readonly","readonly").addClass("pointer");d.parent().find(".ui-button").addClass("readonly")}else{a(".ui-autocomplete-input"+c).bind("focus",function(){$thisAutocomplete=a(this);$thisAutocomplete.bind("blur",function(){});if(a("option:first",d).val()==a(this).val()){a(this).val("")}}).bind("blur",function(){if($thisAutocomplete.val()==""){$thisAutocomplete.val(a("option:first",d).val())}})}})};a.fn.VehicleFinderResultsController=function(){this.each(function(){var c=a(this);a(".load-more a").live("click",b);function b(d){}})};a.fn.VehicleFinderFiltersController=function(){this.each(function(){var c=a(this);a(".slider",c).bind("slidecreate",function(f,d){a(".min-value",a(this).parent()).appendTo(a(".ui-slider-handle:eq(0)",this));a(".max-value",a(this).parent()).appendTo(a(".ui-slider-handle:eq(1)",this))});a("#year-slider",c).bind("slide",function(f,d){b(a(".min-value",this),d.values[0]);b(a(".max-value",this),d.values[1])});a("#year-slider",c).uislider({range:true,values:[1999,2012],min:1911,max:2012,step:1});b(a("#year-slider .min-value",c),a("#year-slider",c).uislider("values",0));b(a("#year-slider .max-value",c),a("#year-slider",c).uislider("values",1));a("#price-slider",c).bind("slide",function(f,d){b(a(".min-value",this),"$"+(d.values[0]/1000)+"K");b(a(".max-value",this),"$"+(d.values[1]/1000)+"K")});a("#price-slider",c).uislider({range:true,values:[20000,600000],min:1000,max:400000,step:1000});b(a("#price-slider .min-value",c),"$"+(a("#price-slider",c).uislider("values",0)/1000)+"K");b(a("#price-slider .max-value",c),"$"+(a("#price-slider",c).uislider("values",1)/1000)+"K");a("#km-slider",c).bind("slide",function(f,d){b(a(".min-value",this),"Less than "+(d.value/1000)+"K")});a("#km-slider",c).uislider({range:"max",value:300000,min:0,max:500000,step:1000});b(a("#km-slider .min-value",c),"Less than "+(a("#km-slider",c).uislider("values",0)/1000)+"K");a("#efficiency-slider",c).bind("slide",function(f,d){b(a(".min-value",this),d.value+"L /100KM")});a("#efficiency-slider",c).uislider({range:"max",value:4.5,min:0,max:50,step:0.5});b(a("#efficiency-slider .min-value",c),a("#efficiency-slider",c).uislider("values",0)+"L /100KM");a("#torque-slider",c).bind("slide",function(f,d){b(a(".min-value",this),d.value+" LBS/FT")});a("#torque-slider",c).uislider({range:"max",value:150,min:0,max:1000,step:50});b(a("#torque-slider .min-value",c),a("#torque-slider",c).uislider("values",0)+" LBS/FT");a("#hp-slider",c).bind("slide",function(f,d){b(a(".min-value",this),d.value+" HP")});a("#hp-slider",c).uislider({range:"max",value:150,min:0,max:1500,step:10});b(a("#hp-slider .min-value",c),a("#hp-slider",c).uislider("values",0)+" HP");function b(d,e){if(e){d.text(e)}}})};a.fn.CompareController=function(){this.each(function(){var i=a(this),d=i.offset().top-0,f=i.offset().top-130,e=a(".compare-table",i).first(),h=a("a.close",i),j=a("a.sponsored",i);a(".table-holder",i).prepend('<div class="fixed-buffer"></div>');a(".fixed-buffer",i).css({height:e.outerHeight()}).hide();i.Scrollable().bind(a.Events.SCROLL,b);h.bind("click",g);j.bind("click",c);a("h3 a").removeWidows();a(".compare-trim option",i).removeWidows();i.trigger(a.Events.SCROLL);if(i.hasClass("compare2")||i.hasClass("compare1")){a("#suggestion-list li",i).matchItemHeights()}function b(){if(a.Scroll.scrollTop()>d){e.addClass("fixed");a(".fixed-buffer",i).show()}else{e.removeClass("fixed");a(".fixed-buffer",i).hide()}a(".ui-autocomplete-input",i).autocomplete("close")}function g(m){m.preventDefault();var k=a(this).attr("data-id"),l=a(".compare-table tr.image-row td").length;if(l<2){return}i.removeClass("compare"+l--);a('.compare-table td[data-column-id="'+k+'"]',i).remove();i.addClass("compare"+l)}function c(k){k.preventDefault()}})};a.fn.SearchResultsController=function(){this.each(function(){var d=a(this),c=a("a.view-all",d);c.bind("click",b);function b(f){f.preventDefault();a("#search-tabs",d).trigger(a.Events.OPEN,a(this).attr("data-tab"))}a("a.load",d).click(function(f){f.preventDefault();var g=a("div.result-set",d).filter(":first").clone();g.hide();a("> div.results",d).append(g);g.fadeIn()})})};a.fn.TabsController=function(){this.each(function(){var h=a(this),i=a("> .tab-nav",h),c=a("> .tabs",h),g=a("a.active",i);c.find("> .tab").hide();if(g.length>0){i.find("a").removeClass("active");i.find("a").parent().removeClass("on");var f=g.filter(":first");f.addClass("active");f.parent().addClass("on");var e=a("a",i).index(f)+1;a("> .tab",c).hide();c.find("> .tab:nth-child("+e+")").filter(":first").show()}else{c.find(".tab:first").show();i.find("a:first").addClass("active");i.find("a:first").parent().addClass("on")}h.bind(a.Events.OPEN,b);function b(l,j){l.preventDefault();l.stopPropagation();a("> .tab",c).hide();i.find("a").removeClass("active");i.find("a").parent().removeClass("on");var k=c.find("> .tab:nth-child("+j+")").filter(":first");k.show();a(i.find("a")[j-1]).addClass("active");a(i.find("a")[j-1]).parent().addClass("on");if(k.attr("id")=="settings"){a("#settings .topics li").matchItemHeights()}}i.find("ul li a").bind("click",d);function d(j){j.preventDefault();h.trigger(a.Events.OPEN,a("a",i).index(a(this))+1)}})};a.fn.ToggleFieldController=function(){this.each(function(){var f=a(this),e=a("#"+f.attr("data-for")),c=f.closest("li");e.hide();function b(){if(a("span",c).length==0){c.append("<span></span>")}var g=a("span",c);if(e.attr("type")=="text"){g.html(e.val())}else{var j="";for(var h=0;h<e.val().length;h++){j+="*"}g.html(j)}}b();f.bind("click",d);function d(g){g.preventDefault();e.toggle();a("span",c).toggle();b()}})};a.fn.DeleteFieldController=function(){this.each(function(){var e=a(this),d=a("#"+e.attr("data-for")),b=e.closest("li");e.bind("click",c);function c(f){f.preventDefault();b.remove()}})};a.fn.ExpanderController=function(b){this.each(function(){var c=a(this),d=a(this).attr("data-slicepoint");c.expander({slicePoint:((d!="")?parseInt(d):150),expandText:"More",userCollapseText:"Less"})})};a.fn.ClosedAccordionController=function(b){this.each(function(){var c=a(this);c.AccordionController({expandFirst:false})})};a.fn.AccordionController=function(c){var b={collapseAll:false,expandFirst:true,expandAll:false};if(c){a.extend(b,c)}this.each(function(){var g=a(this),e=a(".heading",g),f=a("> li",g);f.each(function(i){var h=a(this);if(b.expandFirst){if(i!=0){a(".collapsible",this).css({display:"none"})}else{h.addClass("open");a(".collapsible",this).css({display:"block"})}}else{if(b.expandAll){h.addClass("open")}else{h.removeClass("open");a(".collapsible",this).css({display:"none"})}}});e.bind("click",d);function d(j){j.preventDefault();var h=a(this),i=h.closest("li");f.each(function(l){var k=a(this);if(k[0]==i[0]){if(k.hasClass("open")){a(".collapsible",this).slideUp(function(){k.removeClass("open")})}else{k.addClass("open");a(".collapsible",this).slideDown("slow")}}else{if(!b.collapseAll){return}if(k.hasClass("open")){a(".collapsible",this).slideUp(function(){k.removeClass("open")})}}})}})};a.fn.GalleryController=function(){this.each(function(){var g=a(this),c=g.find(".galleryContent"),f=a(".overlay-container",g),e=a(".copy .pos",f);e.empty();c.find("a").filter(":first").addClass("active");c.find("a").bind("click",b);a(".img img.large",g).imgscale({parent:".img"});d(c.find("a").filter(":first").parent().find(".caption").text());function b(j){j.preventDefault();var h=a(this).attr("href"),i=a(".img img.large",g);i.load(function(k){a(this).css({"margin-top":"auto"}).imgscale({parent:".img"})}).attr("src",h);c.find("a").removeClass("active");a(this).addClass("active");d(a(this).parent().find(".caption").text())}function d(h){e.empty();if(h!=""){e.text(h);f.show()}else{f.hide()}}})};a.fn.SlidesController=function(){this.each(function(){var j=a(this),c=a(".viewport",j),l=a(".container",j),g=1,h=j.find(".slide").filter(":first"),b=h.outerWidth(true),n=a(".slide",j).size(),m=Math.round(c.actualWidth()/b),d=n/m,i=j.attr("data-nthchild");if(i!=""&&i!=undefined){a(".slide:nth-child("+i+"n)").addClass("last")}if(j.attr("data-mobileonly")=="true"&&!a.isMobile){}else{if(j.attr("data-mobileonly")=="true"&&a.isMobile){c.addClass("scrollable scroll-y");l.css("width",(b*n)+"px");n=a(".slide",j).size();m=1;d=n/m;if(j.find(".navigation").length==0&&a.Body.hasClass("mobile-page")){j.prepend('<div class="navigation"><a class="nav left ui-link">Left</a><a class="nav right ui-link">Right</a></div>')}}else{if(j.attr("data-mobileonly")==undefined&&a.isMobile){c.addClass("scrollable scroll-y");l.css("width",(b*n)+"px");n=a(".slide",j).size();m=1;d=n/m}else{c.css("overflow","hidden");l.css("width",(b*n)+"px")}}}j.find(".right").unbind("tap").unbind("mouseenter").unbind("mouseleave").unbind("mouseclick");j.find(".left").unbind("tap").unbind("mouseenter").unbind("mouseleave").unbind("mouseclick");j.unbind("swipeleft").unbind("swiperight");j.find(".right").bind("mouseenter",function(o){a(this).addClass("hover")}).bind("mouseleave",function(o){a(this).removeClass("hover")}).bind("click",function(o){o.preventDefault();k()});j.find(".left").bind("mouseenter",function(o){a(this).addClass("hover")}).bind("mouseleave",function(o){a(this).removeClass("hover")}).bind("click",function(o){o.preventDefault();f()});if(a.isMobile){j.bind("swipeleft",function(o){o.preventDefault();k()}).bind("swiperight",function(o){o.preventDefault();f()});if(j.attr("data-mobileonly")=="true"){j.find(".left").bind("tap",function(o){o.preventDefault();f()});j.find(".right").bind("tap",function(o){o.preventDefault();k()})}}function f(){if(g>1){g--}e(g)}function k(){if(g<d){g++}e(g)}function e(o){if(!a.isMobile){$containerPos=(((o-1)*c.outerWidth(true))*-1)}else{$containerPos=(o-1)*((b)*-1)}l.stop().animate({left:$containerPos},{duration:window.wheels.duration,easing:window.wheels.ease})}})};a.fn.MobileTabController=function(){a(this).each(function(c){var d=a(this),b="";a("option",d).each(function(){b+=a(this).val()+","});b=b.substring(0,b.length-1);d.bind("change",function(f){f.preventDefault();a(b).hide();a(a(this).val()).show()})})};a.fn.AnswerCentrePostQuestionController=function(){a(this).each(function(c){var e=a(this),b=a("#ask-question-message");b.hide();e.bind("click",d);function d(f){f.preventDefault();b.show().css({opacity:1})}})};a.fn.AskQuestionMessageController=function(){this.each(function(){var d=a(this),c=a("form",d);d.MessageController({});c.bind("submit",b);function b(f){f.preventDefault();d.trigger(a.Events.CLOSE)}})};a.fn.MessageController=function(c){var b={};if(c){a.extend(b,c)}a(this).each(function(f){var h=a(this),d=h.attr("data-destroy")?h.attr("data-destroy"):true;h.bind(a.Events.CLOSE,g).find("a.close").bind("click",e);function e(i){i.preventDefault();h.trigger(a.Events.CLOSE)}function g(i){h.animate({opacity:0,queue:false},500,"easeOutQuad",function(){a(this).slideUp(function(){if(d===true){a(this).remove()}})})}})};a.fn.removeWidows=function(){a(this).each(function(c){var b=a(this).text().replace(/ (\S+)$/,"&nbsp;$1");a(this).html(b)})};a.fn.matchItemHeights=function(){var b=0;a(this).each(function(c){var d=a(this).actualHeight();if(b<d){b=d}}).height(b)};a.fn.actualHeight=function(){if(a(this).is(":visible")){return a(this).outerHeight()}var b=this.closest(":visible").children(),c;b.addClass("temp-show");c=this.height();b.removeClass("temp-show");return c};a.fn.actualWidth=function(){if(a(this).is(":visible")){return a(this).outerWidth()}var b=this.closest(":visible").children(),c;b.addClass("temp-show");c=this.width();b.removeClass("temp-show");return c};a.belowthefold=function(b,d){var c=a(window).height()+a(window).scrollTop();return c<=b.offset().top-d.threshold};a.abovethetop=function(b,d){var c=a(window).scrollTop();return c>=b.offset().top+d.threshold+b.height()};a.inview=function(b,c){return(a.abovethetop(b,c)!=true&&a.belowthefold(b,c)!=true)};a.fn.prettyCheckboxes=function(b){b=jQuery.extend({checkboxWidth:17,checkboxHeight:17,className:"prettyCheckbox",display:"list"},b);a(this).each(function(){$label=a('label[for="'+a(this).attr("id")+'"]');$label.prepend("<span class='holderWrap'><span class='holder'></span></span>");if(a(this).is(":checked")){$label.addClass("checked")}$label.addClass(b.className).addClass(a(this).attr("type")).addClass(b.display);$label.find("span.holderWrap").width(b.checkboxWidth).height(b.checkboxHeight);$label.find("span.holder").width(b.checkboxWidth);a(this).addClass("hiddenCheckbox");$label.bind("click",function(){a("input#"+a(this).attr("for")).triggerHandler("click");if(a("input#"+a(this).attr("for")).is(":checkbox")){a(this).toggleClass("checked");a("input#"+a(this).attr("for")).checked=true;a(this).find("span.holder").css("top",0)}else{$toCheck=a("input#"+a(this).attr("for"));a('input[name="'+$toCheck.attr("name")+'"]').each(function(){a('label[for="'+a(this).attr("id")+'"]').removeClass("checked")});a(this).addClass("checked");$toCheck.checked=true}});a("input#"+$label.attr("for")).bind("keypress",function(c){if(c.keyCode==32){if(a.browser.msie){a('label[for="'+a(this).attr("id")+'"]').toggleClass("checked")}else{a(this).trigger("click")}return false}})})}})(jQuery);$(function(){$("#review-rating .slider").uislider({min:0,max:5,step:0.5,value:0,slide:function(e,g){var f=g.value;$(this).parent().find(".rating").text(f);$("#user-rating").val(f)}});$("div.reader-reviews a.post-review").click(function(f){f.preventDefault();$("div.reader-reviews").slideUp();$("div.post-review.popup").slideDown();return false});$("div.post-review a.close").click(function(f){f.preventDefault();$("div.reader-reviews").slideDown();$("div.post-review.popup").slideUp();return false});$("#compare-share-uri").mouseup(function(){this.select()});if($.isMobile){if($.Body.hasClass("review")){$(".row.navigation").after("<div id='mobile-section-wrap' />");$("#mobile-section-wrap").append("<div class='row intro-wrap' />");$(".row.intro").appendTo(".row.intro-wrap");$(".row.intro-copy").appendTo(".row.intro-wrap");$(".row.whatsnew").appendTo("#mobile-section-wrap");$(".row.gallery-row").appendTo("#mobile-section-wrap");$(".row.performance").appendTo("#mobile-section-wrap");$(".row.tech").appendTo("#mobile-section-wrap");$(".row.verdict").appendTo("#mobile-section-wrap");$(".row.intro .wrap div").matchItemHeights();var d=$("#mobile-section-wrap > .row");$reviewMenuItems=$(".row.navigation li");$reviewMenuItems.bind("click",c);function c(f){f.preventDefault();$containerPos=$($reviewMenuItems[$reviewMenuItems.index($(this))]).position().left*-1;$("#review-nav").stop().animate({left:$containerPos},{duration:window.wheels.duration,easing:window.wheels.ease});$reviewMenuItems.removeClass("active");$(this).addClass("active");d.hide();$(d[$reviewMenuItems.index($(this))]).show()}}if($.Body.hasClass("home")){var a=$("#homeCarousel .mobile-feature");$("#homeCarousel .item").remove();$("#homeCarousel .carousel-inner").append(a);$("#homeCarousel .carousel-inner .mobile-feature").each(function(){$(this).wrap("<div class='item' />")});$("#homeCarousel .carousel-inner .item:eq(0)").addClass("active");var b=$(".reviews.home-module .slide .pos");$(".reviews.home-module .slide").remove();b.each(function(e){if((e%4)==0){$(".reviews.home-module .container ul").append("<li class='slide' />")}$(".reviews.home-module .container ul li:last-child").append($(this))});$(".reviews.home-module .slide .pos").wrap("<div class='slide-wrap' />");$(".reviews.home-module").SlidesController();var b=$(".vehicle-profile.home-module .slide .pos");$(".vehicle-profile.home-module .slide").remove();b.each(function(e){if((e%4)==0){$(".vehicle-profile.home-module .container ul").append("<li class='slide' />")}$(".vehicle-profile.home-module .container ul li:last-child").append($(this))});$(".vehicle-profile.home-module .slide .pos").wrap("<div class='slide-wrap' />");$(".vehicle-profile.home-module").SlidesController()}}else{$("input[type=checkbox]").prettyCheckboxes();$("#debate input[type=radio]").prettyCheckboxes({checkboxWidth:23,checkboxHeight:23})}$("#my-comparisons .car h4").removeWidows();$("#vehicles-reviews .used-vehicles ul.listing li").matchItemHeights();$("#features .in-this-section ul li").matchItemHeights();$("#news .in-this-section ul li").matchItemHeights();if(!Modernizr.input.placeholder){$("input").each(function(){if($(this).val()==""&&$(this).attr("placeholder")!=""){$(this).val($(this).attr("placeholder"));$(this).focus(function(){if($(this).val()==$(this).attr("placeholder")){$(this).val("")}});$(this).blur(function(){if($(this).val()==""){$(this).val($(this).attr("placeholder"))}})}})}});$(window).load(function(){if($("#map_canvas").length>0){loadGoogleMapScript()}});$(document).bind("pageinit",function(a,b){});function initializeMaps(){var a={zoom:8,center:new google.maps.LatLng(43.652,-79.381),mapTypeId:google.maps.MapTypeId.ROADMAP};var b=new google.maps.Map(document.getElementById("map_canvas"),a)}function loadGoogleMapScript(){var a=document.createElement("script");a.type="text/javascript";a.src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBYEMJFeb2W4hD61HklrQLThnXLmFD_W-Y&sensor=false&callback=initializeMaps";document.body.appendChild(a)}(function(a){a.widget("ui.combobox",{_create:function(){var d=this,b=this.element.hide(),e=b.children(":selected"),f=a.trim(e.val())?a.trim(e.text()):"";var c=this.input=a("<input>").insertAfter(b).val(f).autocomplete({delay:0,minLength:0,source:function(h,g){var i=new RegExp(a.ui.autocomplete.escapeRegex(h.term),"i");g(b.children("option").map(function(){var j=a(this).text();if(this.value&&(!h.term||i.test(j))){return{label:j.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.ui.autocomplete.escapeRegex(h.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"$1"),value:a.trim(j),option:this}}}))},select:function(g,h){h.item.option.selected=true;d._trigger("selected",g,{item:h.item.option})},change:function(h,i){if(!i.item){var j=new RegExp("^"+a.ui.autocomplete.escapeRegex(a(this).val())+"$","i"),g=false;b.children("option").each(function(){if(a(this).text().match(j)){this.selected=g=true;return false}});if(!g){a(this).val("");b.val("");c.data("autocomplete").term="";return false}}}}).addClass("ui-widget ui-widget-content ui-corner-left");c.addClass(b.attr("class"));c.data("autocomplete")._renderItem=function(g,h){g.addClass(b.attr("class"));return a("<li></li>").data("item.autocomplete",h).append("<a>"+h.label+"</a>").appendTo(g)};this.button=a("<button type='button'>&nbsp;</button>").attr("tabIndex",-1).attr("title","Show All Items").addClass(b.attr("class")).insertAfter(c).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){if(c.autocomplete("widget").is(":visible")){c.autocomplete("close");return}a(this).blur();c.autocomplete("search","");c.focus()})},destroy:function(){this.input.remove();this.button.remove();this.element.show();a.Widget.prototype.destroy.call(this)}})})(jQuery);!function(a){a(function(){a.support.transition=(function(){var c=document.body||document.documentElement,d=c.style,b=d.transition!==undefined||d.WebkitTransition!==undefined||d.MozTransition!==undefined||d.MsTransition!==undefined||d.OTransition!==undefined;return b&&{end:(function(){var e="TransitionEnd";if(a.browser.webkit){e="webkitTransitionEnd"}else{if(a.browser.mozilla){e="transitionend"}else{if(a.browser.opera){e="oTransitionEnd"}}}return e}())}})()})}(window.jQuery);!function(a){var b=function(d,c){this.$element=a(d);this.options=a.extend({},a.fn.carousel.defaults,c);this.options.slide&&this.slide(this.options.slide)};b.prototype={cycle:function(){this.interval=setInterval(a.proxy(this.next,this),this.options.interval);return this},to:function(g){var c=this.$element.find(".active"),d=c.parent().children(),e=d.index(c),f=this;if(g>(d.length-1)||g<0){return}if(this.sliding){return this.$element.one("slid",function(){f.to(g)})}if(e==g){return this.pause().cycle()}return this.slide(g>e?"next":"prev",a(d[g]))},pause:function(){clearInterval(this.interval);return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(f,e){var c=this.$element.find(".active"),d=e||c[f](),j=this.interval,h=f=="next"?"left":"right",i=f=="next"?"first":"last",g=this;this.sliding=true;j&&this.pause();d=d.length?d:this.$element.find(".item")[i]();if(!a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger("slide");c.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}else{d.addClass(f);d[0].offsetWidth;c.addClass(h);d.addClass(h);this.$element.trigger("slide");this.$element.one(a.support.transition.end,function(){d.removeClass([f,h].join(" ")).addClass("active");c.removeClass(["active",h].join(" "));g.sliding=false;setTimeout(function(){g.$element.trigger("slid")},0)})}j&&this.cycle();return this}};a.fn.carousel=function(c){return this.each(function(){var f=a(this),e=f.data("carousel"),d=typeof c=="object"&&c;if(!e){f.data("carousel",(e=new b(this,d)))}if(typeof c=="number"){e.to(c)}else{if(typeof c=="string"||(c=d.slide)){e[c]()}else{e.cycle()}}})};a.fn.carousel.defaults={interval:5000};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(h){var g=a(this),d,c=a(g.attr("data-target")||(d=g.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!c.data("modal")&&a.extend({},c.data(),g.data());c.carousel(f);h.preventDefault()})})}(window.jQuery);
/*!
 * jQuery Expander Plugin v1.4
 *
 * Date: Sun Dec 11 15:08:42 2011 EST
 * Requires: jQuery v1.3+
 *
 * Copyright 2011, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
*/
(function(a){a.expander={version:"1.4",defaults:{slicePoint:100,preserveWords:true,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:false,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"fadeIn",expandSpeed:250,collapseEffect:"fadeOut",collapseSpeed:200,userCollapse:true,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null}};a.fn.expander=function(r){var n="init";if(typeof r=="string"){n=r;r={}}var b=a.extend({},a.expander.defaults,r),e=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,l=/(&(?:[^;]+;)?|\w+)$/,k=/<\/?(\w+)[^>]*>/g,h=/<(\w+)[^>]*>/g,m=/<\/(\w+)>/g,d=/(<\/[^>]+>)\s*$/,o=/^<[^>]+>.?/,p;var g={init:function(){this.each(function(){var O,N,S,z,Q,J,u,T,L,P,x=[],H=[],y={},R=this,C=a(this),A=a([]),M=a.meta?a.extend({},b,C.data()):b,t=!!C.find("."+M.detailClass).length,D=!!C.find("*").filter(function(){var U=a(this).css("display");return(/^block|table|list/).test(U)}).length,w=D?"div":"span",F=w+"."+M.detailClass,K="span."+M.moreClass,s=M.expandSpeed||0,B=a.trim(C.html()),E=a.trim(C.text()),G=B.slice(0,M.slicePoint);if(a.data(this,"expander")){return}a.data(this,"expander",true);a.each(["onSlice","beforeExpand","afterExpand","onCollapse"],function(U,V){y[V]=a.isFunction(M[V])});G=j(G);summTagless=G.replace(k,"").length;while(summTagless<M.slicePoint){newChar=B.charAt(G.length);if(newChar=="<"){newChar=B.slice(G.length).match(o)[0]}G+=newChar;summTagless++}G=j(G,M.preserveWords);Q=G.match(h)||[];J=G.match(m)||[];S=[];a.each(Q,function(U,V){if(!e.test(V)){S.push(V)}});Q=S;N=J.length;for(O=0;O<N;O++){J[O]=J[O].replace(m,"$1")}a.each(Q,function(U,X){var V=X.replace(h,"$1");var W=a.inArray(V,J);if(W===-1){x.push(X);H.push("</"+V+">")}else{J.splice(W,1)}});H.reverse();if(!t){T=B.slice(G.length);if(T===""||T.split(/\s+/).length<M.widow){return}u=H.pop()||"";G+=H.join("");T=x.join("")+T}else{T=C.find(F).remove().html();G=C.html();B=G+T;u=""}M.moreLabel=C.find(K).length?"":q(M);if(D){T=B}G+=u;M.summary=G;M.details=T;M.lastCloseTag=u;if(y.onSlice){S=M.onSlice.call(R,M);M=S&&S.details?S:M}var I=f(M,D);C.html(I);L=C.find(F);P=C.find(K);L.hide();P.find("a").unbind("click.expander").bind("click.expander",v);A=C.find("div."+M.summaryClass);if(M.userCollapse&&!C.find("span."+M.lessClass).length){C.find(F).append('<span class="'+M.lessClass+'">'+M.userCollapsePrefix+'<a href="#">'+M.userCollapseText+"</a></span>")}C.find("span."+M.lessClass+" a").unbind("click.expander").bind("click.expander",function(U){U.preventDefault();clearTimeout(p);var V=a(this).closest(F);c(M,V);if(y.onCollapse){M.onCollapse.call(R,true)}});function v(U){U.preventDefault();P.hide();A.hide();if(y.beforeExpand){M.beforeExpand.call(R)}L.stop(false,true)[M.expandEffect](s,function(){L.css({zoom:""});if(y.afterExpand){M.afterExpand.call(R)}i(M,L,R)})}})},destroy:function(){if(!this.data("expander")){return}this.removeData("expander");this.each(function(){var t=a(this),u=a.meta?a.extend({},b,t.data()):b,s=t.find("."+u.detailClass).contents();t.find("."+u.moreClass).remove();t.find("."+u.summaryClass).remove();t.find("."+u.detailClass).after(s).remove();t.find("."+u.lessClass).remove()})}};if(g[n]){g[n].call(this)}function f(v,u){var t="span",s=v.summary;if(u){t="div";if(d.test(s)&&!v.expandAfterSummary){s=s.replace(d,v.moreLabel+"$1")}else{s+=v.moreLabel}s='<div class="'+v.summaryClass+'">'+s+"</div>"}else{s+=v.moreLabel}return[s,"<",t+' class="'+v.detailClass+'"',">",v.details,"</"+t+">"].join("")}function q(t){var s='<span class="'+t.moreClass+'">'+t.expandPrefix;s+='<a href="#">'+t.expandText+"</a></span>";return s}function j(s,t){if(s.lastIndexOf("<")>s.lastIndexOf(">")){s=s.slice(0,s.lastIndexOf("<"))}if(t){s=s.replace(l,"")}return s}function c(t,s){s.stop(true,true)[t.collapseEffect](t.collapseSpeed,function(){var u=s.prev("span."+t.moreClass).show();if(!u.length){s.parent().children("div."+t.summaryClass).show().find("span."+t.moreClass).show()}})}function i(t,s,u){if(t.collapseTimer){p=setTimeout(function(){c(t,s);if(a.isFunction(t.onCollapse)){t.onCollapse.call(u,false)}},t.collapseTimer)}}return this};a.fn.expander.defaults=a.expander.defaults})(jQuery);(function(b){b.fn.imgscale=function(p){p=b.extend({parent:false,scale:"fill",center:true,fade:0},p);var m,q,l,a,s,r,n,t;this.each(function(){var d=b(this);var c=(!p.parent?d.parent():d.parents(p.parent));c.css({opacity:0,overflow:"hidden"});if(c.length>0){d.removeAttr("height").removeAttr("width");if(this.complete){o(d,c,false)}else{d.load(function(){o(d,c,true)})}}});function o(i,e,c){m=e.height();q=e.width();l=i.height();a=i.width();g();function g(){if(q>m){h("w")}else{if(q<m){h("t")}else{if(q==m){h("s")}}}}function h(u){if(a>l){k(u,"w")}else{if(a<l){k(u,"t")}else{if(a==l){k(u,"s")}}}}function k(u,x){if(u=="w"&&x=="w"){d()}else{if(u=="w"&&x=="t"){v("w")}else{if(u=="w"&&x=="s"){v("w")}else{if(u=="t"&&x=="w"){v("w")}else{if(u=="t"&&x=="t"){d()}else{if(u=="t"&&x=="s"){v("t")}else{if(u=="s"&&x=="w"){v("t")}else{if(u=="s"&&x=="t"){v("w")}else{if(u=="s"&&x=="s"){v("w")}}}}}}}}}}function d(){if((a*m/a)>=q){v("t")}else{v("w")}}function v(u){switch(u){case"t":if(p.scale=="fit"){i.attr("width",q)}else{i.attr("height",m)}break;case"w":if(p.scale=="fit"){i.attr("height",m)}else{i.attr("width",q)}break}if(p.center){f()}else{j()}}function f(){s=i.width();r=i.height();if(r>m){t="-"+(Math.floor((r-m)/2))+"px";i.css("margin-top",t)}if(s>q){n="-"+(Math.floor((s-q)/2))+"px";i.css("margin-left",n)}j()}function j(){if(p.fade>0&&c){e.animate({opacity:1},p.fade)}else{e.css("opacity",1)}}}}})(jQuery);
(function(){var fileTypeExt={image:"jpg|jpeg|gif|png|bmp|pct|psd|psp|thm|tif|ai|drw|dxf|eps|ps|svg|3dm|dwg|pln",document:"doc|pdf|docx|txt|log|msg|pages|rtf|wpd|wps|indd|qxd|qxp",data:"123|accdb|csv|dat|db|dll|mdb|pps|ppt|pptx|sdb|sdf|sql|vcf|wks|xls|xlsx|xml",archive:"zip|rar|tar|tga|7z|deb|gz|pkg|sit|sitx|zipx|cab|gzip|uue|arj",audio:"wma|mp3|amr|wav|aif|iff|m3u|m4a|mid|mpa|ra",video:"mov|mpeg|mpg|3gp|3g2|vob|flv|swf|asx|asf|rm",font:"fnt|fon|otf|ttf",script:"php|html|js|htm|htmls|dhtml|php3|phps|php4|php5|asp|aspx|htaccess|vb|asr|htpasswd|asc|as|inc|config|cs|asa"};function getHostname(url){var re=new RegExp("^(?:f|ht)tp(?:s)?://([^/]+)","im");var arr=url.match(re);return arr?arr[1].toString():document.location.hostname}function returnJSON(response){if(response){return eval("("+response+")")}else{return{}}}function getExtList(type){if(type==""||type=="custom"){return""}var extArr=type.split("|");var s=new Array();for(i in extArr){s[i]=fileTypeExt[extArr[i]]}return s.join("|")}function isIn(value,param){param=param.replace(/,/g,"|");return value.match(new RegExp(".("+param+")$","i"))}function stopDefault(e){if(e&&e.preventDefault){e.preventDefault()}else{if(window.event&&window.event.returnValue){window.eventReturnValue=false}}}function addEvent(el,type,fn){if(el.addEventListener){el.addEventListener(type,fn,false)}else{if(el.attachEvent){el.attachEvent("on"+type,function(){fn.call(el)})}else{throw new Error("not supported or DOM not loaded")}}}function addResizeEvent(fn){var timeout;addEvent(window,"resize",function(){if(timeout){clearTimeout(timeout)}timeout=setTimeout(fn,100)})}if(document.documentElement.getBoundingClientRect){var getOffset=function(el){var box=el.getBoundingClientRect();var doc=el.ownerDocument;var body=doc.body;var docElem=doc.documentElement;var clientTop=docElem.clientTop||body.clientTop||0;var clientLeft=docElem.clientLeft||body.clientLeft||0;var zoom=1;if(body.getBoundingClientRect){var bound=body.getBoundingClientRect();zoom=(bound.right-bound.left)/body.clientWidth}if(zoom>1){clientTop=0;clientLeft=0}var top=box.top/zoom+(window.pageYOffset||docElem&&docElem.scrollTop/zoom||body.scrollTop/zoom)-clientTop;var left=box.left/zoom+(window.pageXOffset||docElem&&docElem.scrollLeft/zoom||body.scrollLeft/zoom)-clientLeft;return{top:top,left:left}}}else{var getOffset=function(el){var top=0,left=0;do{top+=el.offsetTop||0;left+=el.offsetLeft||0;el=el.offsetParent}while(el);return{left:left,top:top}}}function getBox(el){var left,right,top,bottom;var offset=getOffset(el);left=offset.left;top=offset.top;right=left+el.offsetWidth;bottom=top+el.offsetHeight;return{left:left,right:right,top:top,bottom:bottom}}function addStyles(el,styles){for(var name in styles){if(styles.hasOwnProperty(name)){el.style[name]=styles[name]}}}function copyLayout(from,to){var box=getBox(from);addStyles(to,{position:"absolute",left:box.left+"px",top:box.top+"px",width:from.offsetWidth+"px",height:from.offsetHeight+"px"})}var toElement=(function(){var div=document.createElement("div");return function(html){div.innerHTML=html;var el=div.firstChild;return div.removeChild(el)}})();var getUID=(function(){var id=0;return function(){return"RAjaxPost"+id++}})();function GetElement(el){if(el.jquery){el=el[0]}else{if(typeof el=="string"){if(/^#.*/.test(el)){el=el.slice(1)}el=document.getElementById(el)}}return el||false}function GetParentTag(el,tag,depth){var el=GetElement(el);if(!el.parentNode){return null}if(typeof tag=="undefined"){return el.parentNode}var c=depth||0;if(el.parentNode.nodeName.toLowerCase()==tag.toLowerCase()&&c==0){return el.parentNode}else{if(el.parentNode.nodeName.toLowerCase()==tag.toLowerCase()){c--;return GetParentTag(el.parentNode,tag.toLowerCase(),c)}else{return GetParentTag(el.parentNode,tag.toLowerCase(),c)}}}function fileFromPath(file){return file.replace(/.*(\/|\\)/,"")}function getExt(file){return(-1!==file.indexOf("."))?file.replace(/.*[.]/,""):""}function hasClass(el,name){var re=new RegExp("\\b"+name+"\\b");return re.test(el.className)}function addClass(el,name){if(!hasClass(el,name)){el.className+=" "+name}}function removeClass(el,name){var re=new RegExp("\\b"+name+"\\b");el.className=el.className.replace(re,"")}function removeNode(el){el.parentNode.removeChild(el)}window.SFileInput=function(name,options){this._settings={button:"",deniedType:"script",allowedType:"",denideExt:"",allowedExt:"",hoverClass:"hover",focusClass:"focus",disabledClass:"disabled",multipleFile:false,required:false,showFileName:true,selectedFileLabel:"",selectedFileClass:"selectedFileClass",multiInputRemoveClass:"remove",nofileMsg:"No file selected",onClear:function(file){},onChange:function(file,extension){},onDenied:function(file,extention){},onAccept:function(file,extention){},showMessage:null};for(var i in options){if(options.hasOwnProperty(i)){this._settings[i]=options[i]}}if(this._settings.multipleFile==true){this._settings.name=name+"[]"}else{this._settings.name=name}var button=GetElement(this._settings.button);if(!button||button.nodeType!==1){throw new Error("Please make sure that you're passing a valid element")}if(this._settings.denideExt!=""&&this._settings.deniedType=="script"){this._settings.deniedType="custom"}if(this._settings.allowedExt!=""&&this._settings.allowedType==""){this._settings.allowedType="custom"}if(button.nodeName.toUpperCase()=="A"){addEvent(button,"click",function(e){if(e&&e.preventDefault){e.preventDefault()}else{if(window.event){window.event.returnValue=false}}})}this.fileselected=0;this._button=button;this._input=null;this._disabled=false;this.enable();this._rerouteClicks();var form=GetParentTag(this._button,"form");var self=this};SFileInput.prototype={disable:function(){addClass(this._button,this._settings.disabledClass);this._disabled=true;var nodeName=this._button.nodeName.toUpperCase();if(nodeName=="INPUT"||nodeName=="BUTTON"){this._button.setAttribute("disabled","disabled")}if(this._input){if(this._input.parentNode){this._input.parentNode.style.visibility="hidden"}}},enable:function(){removeClass(this._button,this._settings.disabledClass);this._button.removeAttribute("disabled");this._disabled=false},_showMessage:function(msg){var self=this;if(self._settings.showMessage){self._settings.showMessage.call(self,msg)}else{alert(msg)}},_createLabel:function(){var self=this;var label=document.createElement("label");self._button.parentNode.insertBefore(label,self._button.nextSibling);return label},_createMultipleLabel:function(){var self=this;if(self._label.childNodes.length>0){var ol=self._label.childNodes.item(0)}else{var ol=document.createElement("ol");self._label.appendChild(ol)}var li=document.createElement("li");ol.appendChild(li);return li},_createInput:function(){var self=this;var input=document.createElement("input");input.setAttribute("type","file");input.setAttribute("name",this._settings.name);addStyles(input,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",fontFamily:"sans-serif",cursor:"pointer"});var div=document.createElement("div");addStyles(div,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583});if(div.style.opacity!=="0"){if(typeof(div.filters)=="undefined"){throw new Error("Opacity not supported by the browser")}div.style.filter="alpha(opacity=0)"}addEvent(input,"change",function(){if(!input||input.value===""){return}var file=fileFromPath(input.value);var ext=getExt(file);var dniedExt=(self._settings.deniedType=="custom")?self._settings.denideExt:getExtList(self._settings.deniedType);var allowedExt=(self._settings.allowedType=="custom")?self._settings.allowedExt:getExtList(self._settings.allowedType);var isvalid=self._validateType(file,dniedExt,allowedExt);if(isvalid!==true){self._clearInput();if(true!==self._settings.onDenied.call(self,file,ext)){var alert_str="";if(isvalid==="denied"){alert_str="*."+ext+" file is not allowed"}else{if(self._settings.allowedType=="custom"){alert_str="only (*."+allowedExt.split("|").join(", *.")+") extention(s) are allowed"}else{alert_str="only "+self._settings.allowedType.split("|").join(",").replace(/,([^,]+)$/," & $1")+" file(s) are allowed"}}self._showMessage(alert_str)}return}if(false===self._settings.onAccept.call(self,file,ext)){self._clearInput();return}if(false===self._settings.onChange.call(self,file,ext)){self._clearInput();return}if(self._settings.showFileName){if(!self._label){var label=GetElement(self._settings.selectedFileLabel);if(!label){label=self._createLabel()}if(self._settings.selectedFileClass!=""){addClass(label,self._settings.selectedFileClass)}else{addStyles(label,{marginLeft:"10px"})}self._label=label}removeClass(self._button,self._settings.hoverClass);if(self._settings.multipleFile==true){var multiInput=self._createMultipleLabel();multiInput.innerHTML=self._formatFileName(file);self._moveImput(multiInput)}else{self._label.innerHTML=self._formatFileName(file);self._moveImput(self._label)}}});addEvent(input,"mouseover",function(){addClass(self._button,self._settings.hoverClass)});addEvent(input,"mouseout",function(){removeClass(self._button,self._settings.hoverClass);removeClass(self._button,self._settings.focusClass);if(input.parentNode){input.parentNode.style.visibility="hidden"}});addEvent(input,"focus",function(){addClass(self._button,self._settings.focusClass)});addEvent(input,"blur",function(){removeClass(self._button,self._settings.focusClass)});div.appendChild(input);var form=GetParentTag(this._button,"form");if(!form){throw new Error("The input is without a form element")}addEvent(form,"reset",function(){self._clearInput()});this._form=form;document.body.appendChild(div);this._input=input},_moveImput:function(el){var createRemove=createRemove||true;var el=GetElement(el);var self=this;if(self._input){self._input.onChange="";self._input.parentNode.onMouseover="";addStyles(self._input.parentNode,{visibility:"hidden",width:"0px",height:"0px",left:0,top:0});var tempinput=self._input.parentNode;removeNode(self._input.parentNode);if(self._settings.multipleFile){self._createRemoveButton(el)}el.appendChild(tempinput);this.fileselected++;this._input=null;this._createInput()}else{throw new Error("somthing gone wrong!!")}},_createRemoveButton:function(el){var self=this;var remove=document.createElement("a");addClass(remove,self._settings.multiInputRemoveClass);remove.innerHTML="<span>x</span>";addEvent(remove,"click",function(){self.fileselected=self.fileselected-1;removeNode(this.parentNode)});el.appendChild(remove)},_clearInput:function(){var self=this;if(!this._input){return}self._input.fileselected=0;this._settings.onClear.call(self);if(this._label){this._label.innerHTML=""}removeNode(this._input.parentNode);this._input=null;this._createInput();removeClass(this._button,this._settings.hoverClass);removeClass(this._button,this._settings.focusClass)},validate:function(){var self=this;if(!self._validate()){self._showMessage(self._settings.nofileMsg);return false}return true},_validate:function(){var self=this;if(self._settings.required){return(self.fileselected&&self.fileselected>0)}return true},_validateType:function(file,dniedExt,allowedExt){if(dniedExt!=""){if(isIn(file,dniedExt)){return"denied"}}else{if(allowedExt==""){return true}}if(allowedExt!=""){return(false||isIn(file,allowedExt))&&true}return true},_rerouteClicks:function(){var self=this;addEvent(self._button,"mouseover",function(){if(self._disabled){return}if(!self._input){self._createInput()}var div=self._input.parentNode;copyLayout(self._button,div);div.style.visibility="visible"})},_formatFileName:function(name){if(name.length>33){name=name.slice(0,19)+"..."+name.slice(-13)}return name}};window.rajax=function(form,options){this._settings={debug:false,localResource:"blank.html",action:null,data:{},responseType:false,finputs:{},onSubmit:function(){},onComplete:function(response){}};for(var i in options){if(options.hasOwnProperty(i)){this._settings[i]=options[i]}}this.xdm_formSubmitted=false;this.sameDomainRestored=false;this.sfinputs=new Array();for(var i in this._settings.finputs){this.sfinputs[i]=new SFileInput(i,this._settings.finputs[i])}var form=GetElement(form);if(!form||form.nodeType!==1){throw new Error("Please make sure that you're passing a valid element")}if(form.nodeName.toUpperCase()!="FORM"){throw new Error("Please make sure that you're passing a valid form element")}this._form=form;if(this._settings.action==null){this._settings.action}if(this._settings.autoSubmit){self=this;addEvent(form,"submit",function(){self.post()})}};rajax.prototype={setData:function(data){this._settings.data=data},_createIframe:function(){var id=getUID();var iframe=toElement('<iframe src="javascript:false;" name="'+id+'" />');iframe.setAttribute("id",id);iframe.style.display="none";document.body.appendChild(iframe);return iframe},_configForm:function(iframe,form){var settings=this._settings;form.setAttribute("action",settings.action);if(settings.debug){form.setAttribute("target","_blank")}else{form.setAttribute("target",iframe.name)}form.method="POST";form.setAttribute("enctype","multipart/form-data");form.setAttribute("encoding","multipart/form-data");if(document.getElementById("rajax_input_holder"+iframe.name)){var div=document.getElementById("rajax_input_holder"+iframe.name);div.innerHTML=""}else{var div=document.createElement("div");addStyles(div,{display:"none",position:"absolute"});div.setAttribute("id","rajax_input_holder"+iframe.name);form.appendChild(div)}for(var prop in settings.data){if(settings.data.hasOwnProperty(prop)){var el=document.createElement("input");el.setAttribute("type","hidden");el.setAttribute("name",prop);el.setAttribute("value",settings.data[prop]);div.appendChild(el)}}return form},_getResponse:function(iframe){var toDeleteFlag=false,self=this,settings=this._settings;addEvent(iframe,"load",function(){if(iframe.src=="javascript:'%3Chtml%3E%3C/html%3E';"||iframe.src=="javascript:'<html></html>';"){if(toDeleteFlag){setTimeout(function(){removeNode(iframe)},0)}return}var response;if(self.xdm_formSubmitted&&!self.sameDomainRestored){self.sameDomainRestored=true;iframe.contentWindow.location=self.localResource;return false}else{if(self.xdm_formSubmitted&&self.sameDomainRestored){response=iframe.contentWindow.name;self.sameDomainRestored=false;self.xdm_formSubmitted=false;if(!response){response=""}if(settings.responseType&&settings.responseType.toLowerCase()=="json"){response=returnJSON(response)}settings.onComplete.call(self,response);toDeleteFlag=true;iframe.src="javascript:'<html></html>';";return}}var doc=iframe.contentDocument?iframe.contentDocument:window.frames[iframe.id].document;if(doc.readyState&&doc.readyState!="complete"){return}if(doc.body&&doc.body.innerHTML=="false"){return}if(doc.XMLDocument){response=doc.XMLDocument}else{if(doc.body){response=doc.body.innerHTML;if(settings.responseType&&settings.responseType.toLowerCase()=="json"){if(doc.body.firstChild&&doc.body.firstChild.nodeName.toUpperCase()=="PRE"){doc.normalize();response=doc.body.firstChild.firstChild.nodeValue}response=returnJSON(response)}}else{response=doc}}settings.onComplete.call(self,response);toDeleteFlag=true;iframe.src="javascript:'<html></html>';"})},post:function(){var self=this,settings=this._settings;if(!this._form){return false}var iframe=this._createIframe();var form=this._configForm(iframe,this._form);for(var i in this.sfinputs){if(!this.sfinputs[i]._validate()){this.sfinputs[i]._showMessage(this.sfinputs[i]._settings.nofileMsg);return false}}if(false===settings.onSubmit.call(this,this._form)){return false}uniqueid=(form.action.indexOf("?")!=-1)?"&"+new Date().getTime():"?"+new Date().getTime();form.action+=uniqueid;if(getHostname(settings.action)!=document.location.hostname.toString()){this.xdm_formSubmitted=true;form.action+="&XDM=true"}form.submit();removeNode(document.getElementById("rajax_input_holder"+iframe.name));this._getResponse(iframe);return false}}})();
jQuery(document).ready(function(){if(typeof(LOAD_REVIEW_USED_CAR)!="undefined"){loadUsedCar(VEHICLE_MAKE2,VEHICLE_MODEL2,"","","style_2",6)}});
function selectUsedCarTab(){jQuery("div.vehicle-finder div.tab-nav ul li").removeClass("on");jQuery("div.vehicle-finder div.tab-nav ul li a").removeClass("active");if(window.location.hash&&window.location.hash=="#newcar"){jQuery("div.vehicle-finder div.tab-nav ul li:eq(0)").addClass("on");jQuery("div.vehicle-finder div.tab-nav ul li a:eq(0)").addClass("active");jQuery("#used").hide();jQuery("#new").show();jQuery("#home .vehicle-finder .sponsor").show()}else{jQuery("div.vehicle-finder div.tab-nav ul li:eq(1)").addClass("on");jQuery("div.vehicle-finder div.tab-nav ul li a:eq(1)").addClass("active");jQuery("#new").hide();jQuery("#used").show();jQuery("#home .vehicle-finder .sponsor").hide()}jQuery(".vehicle-finder .tab-nav ul li").click(function(){var a=jQuery(".vehicle-finder .tab-nav ul li").index(jQuery(this));if(a){jQuery("#home .vehicle-finder .sponsor").hide()}else{jQuery("#home .vehicle-finder .sponsor").show()}});jQuery(".home-carousel .pill-menu li").click(function(){var a=jQuery(".home-carousel .pill-menu li").index(jQuery(this));jQuery(".home-carousel .carousel").hide();jQuery(".home-carousel .carousel:eq("+a+")").show();jQuery(".home-carousel .pill-menu li").removeClass("on");jQuery(this).addClass("on");return false});jQuery("#home-filter-make").bind("comboboxselected",function(a,b){updateModel("home-filter-model",b.item.className)});setTimeout(function(){jQuery("#used .used-vehicles").html('<iframe height="225" scrolling="no" src="http://vehicles.wheels.ca" name="used-vehicle-iframe" frameborder="0">You need a Frames Capable browser to view this content.</iframe>')},4000)};
var sponsoredAcode;function initLocalStorage(a){if(!localStorage.getItem(a)){localStorage.setItem("compare",JSON.stringify({vehicles:new Array()}))}}function setLocalstorageItem(a,c,b){initLocalStorage("compare");localStorage.removeItem(a);localStorage.setItem(a,c)}function getLocalstorageItem(a){initLocalStorage("compare");return localStorage.getItem(a)}function acodeExists(a){var b=false;var d=getLocalstorageItem("compare");if(typeof(d)=="undefined"){d=JSON.stringify({vehicles:new Array()})}var c=JSON.parse(d);if(c.vehicles.length>0){for(i=0;c.vehicles.length>i;i++){if(c.vehicles[i]==a){b=true;break}}}if(b){$("#galert").trigger($.Events.OPEN);$("#galert #galert-title").html("Vehicle already exists.");return true}else{return false}}function addToCompare(d,a){var b=false;var e=getLocalstorageItem("compare");if(typeof(e)=="undefined"){e=JSON.stringify({vehicles:new Array()})}var c=JSON.parse(e);if(c.vehicles.length==a){return false}if(c.vehicles.length==0){c.vehicles.push(d);b=true}else{for(i=0;c.vehicles.length>i;i++){if(c.vehicles[i]==d){b=true;break}}}if(!b){c.vehicles[c.vehicles.length]=d}e=JSON.stringify(c);setLocalstorageItem("compare",e);return c.vehicles.length}function getCompareCount(){var c=getLocalstorageItem("compare");var a=0;if(typeof(c)!="undefined"){var b=JSON.parse(c);a=b.vehicles.length+1}else{a=1}jQuery("#compare-menu-item a").text("");jQuery("#compare-menu-item a").text("Compare ("+a+")")}function fillCompareCart(){clearCompareCart();var c=getLocalstorageItem("compare");if(typeof(c)!="undefined"){var b=JSON.parse(c);if(b.vehicles.length>0){var a=b.vehicles.join("|")+"|"+sponsoredAcode}else{var a=sponsoredAcode}if(a.length){$.ajax({type:"POST",cache:false,url:"/wp-content/plugins/wheels-compare/ajax-call.php",data:"acode="+a,dataType:"json",beforeSend:function(){$("#bg-compare-menu .compare-conatiner .compare-item").html('<img src="/wp-content/themes/wheels/img/ajax-loader.gif" class="ajax-loader" alt="Loading">')},success:function(e){$("#bg-compare-menu .compare-conatiner .compare-item").html("");if(e.length){var g=4-e.length;for(i=0;i<=(e.length-1);i++){var f='<a href="javascript:void(0)" onclick="discardItem(\''+e[i].acode+'\')" class="close small">X</a>';if(e[i].acode==sponsoredAcode){f='<span class="sponsor">Sponsored</span>'}var d='<img src="'+e[i].image_link+'" alt="'+e[i].profile_title+'"><div class="copy"><div class="pos"><p>'+e[i].profile_title+"</p></div></div>"+f;$("#bg-compare-menu .compare-conatiner #comp-item"+(i+g+1)).html(d)}}}})}}}function clearCompareCart(){$("#bg-compare-menu .compare-conatiner .compare-item").html("&nbsp;")}function discardItem(a){var c=getLocalstorageItem("compare");var b=JSON.parse(c);for(i=0;b.vehicles.length>i;i++){if(b.vehicles[i]==a){b.vehicles.splice(i,1)}}c=JSON.stringify(b);setLocalstorageItem("compare",c);getCompareCount();if(typeof window.fillComparePage=="function"){fillComparePage()}fillCompareCart()}function number_format(f,c,h,e){f=(f+"").replace(/[^0-9+\-Ee.]/g,"");var b=!isFinite(+f)?0:+f,a=!isFinite(+c)?0:Math.abs(c),k=(typeof e==="undefined")?",":e,d=(typeof h==="undefined")?".":h,j="",g=function(o,m){var l=Math.pow(10,m);return""+Math.round(o*l)/l};j=(a?g(b,a):""+Math.round(b)).split(".");if(j[0].length>3){j[0]=j[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,k)}if((j[1]||"").length<a){j[1]=j[1]||"";j[1]+=new Array(a-j[1].length+1).join("0")}return j.join(d)}var updateModel=function(c,b,e,a){if(typeof(e)=="undefined"){e=""}if(typeof(a)=="undefined"){a=""}var d=jQuery("#"+c).parent().html('<select id="'+c+'" data-role="none" name="model" data-controller="ComboboxController" class="filter-selector ui-menu-model ui-light">').find("select");if(b=="All"){d.append(jQuery("<option />"))}else{d.append(jQuery("<option />").attr("value","none").text("All"));$.each(modelList,function(){if(this.makeCode==b){if(e==this.modelName){d.append(jQuery('<option selected="selected" />').attr("value",this.modelName).text(this.modelName))}else{d.append(jQuery("<option />").attr("value",this.modelName).text(this.modelName))}}})}d.combobox();if(c=="finder-filter-model"){jQuery("#"+c).bind("comboboxselected",function(f,g){doSearch();updateTrim()})}};function loadUsedCar(b,c,f,g,e,h){var d="http://vehicles.wheels.ca/wheelsservice/WheelsService.svc/GetVehicles";var a="";if(b!=""){a+="&make1="+b}if(c!=""){a+="&model1="+c}if(g!=""){a+="&class="+g}if(h!=""){a+="&number="+h}jQuery.ajax({url:d,type:"GET",dataType:"jsonp",data:a,success:function(j){jQuery(".used-listings .listing").empty();jQuery(".used-vehicles .listing").empty();for(i=0;i<j.length;i++){var l=j[i];if(e=="style_1"){var k='<li class="vehicle clearfix"><div class="wrap"><a target="_blank" href="'+l.LinkUrl+'"><img alt="'+l.Year+" "+l.Make+" "+l.Model+'" src="'+l.ThumbUrl+'" width="120" height="68"><div class="copy"><span class="title">'+l.Year+" "+l.Make+" "+l.Model+'</span><strong class="price">$'+number_format(l.Price)+"</strong></div></a></div></li>";jQuery(".used-listings .listing").append(k)}else{if(e=="style_2"){var k="";k+="<li>";k+='<div class="wrap"><a target="_blank" href="'+l.LinkUrl+'"><img alt="'+l.Year+" "+l.Make+" "+l.Model+'" src="'+l.ThumbUrl+'" width="120" height="68" />';k+="<p>"+l.Year+" "+l.Make+" "+l.Model+'<strong class="price">$'+number_format(l.Price)+"</strong></p>";k+="</a></div>";k+="</li>";jQuery(".used-vehicles .listing").append(k);jQuery(".used-vehicles .listing li:odd").addClass("even last");jQuery(".used-vehicles .listing li:even").addClass("odd")}else{var k='<li class=""><div class="wrap"><a target="_blank" href="'+l.LinkUrl+'"><img alt="'+l.Year+" "+l.Make+" "+l.Model+'" src="'+l.ThumbUrl+'" width="120" height="68" /><p>'+l.Year+" "+l.Make+" "+l.Model+'<strong class="price">$'+number_format(l.Price)+"</strong></p></a></div></li>";jQuery(".used-vehicles .listing").append(k);jQuery(".used-vehicles .listing").find("li:nth-child(3),li:nth-child(6)").addClass("last")}}}}})}function loadUsedCar2(a){var c="http://vehicles.wheels.ca/wheelsservice/WheelsService.svc/GetVehicles";var b="";b+="&number="+a;jQuery.ajax({url:c,type:"GET",dataType:"jsonp",data:b,success:function(d){jQuery("#used-car-instead-answer-center .listing").empty();for(i=0;i<d.length;i++){var f=d[i];var e='<li class="vehicle clearfix"><div class="wrap"><a target="_blank" href="'+f.LinkUrl+'"><img alt="'+f.Year+" "+f.Make+" "+f.Model+'" src="'+f.ThumbUrl+'" width="120" height="68"><div class="copy"><span class="title">'+f.Year+" "+f.Make+" "+f.Model+'</span><strong class="price">$'+number_format(f.Price)+"</strong></div></a></div></li>";jQuery("#used-car-instead-answer-center .listing").append(e)}}})}function loadComment(b,d,c,a){jQuery.ajax({async:false,type:"post",data:"post_id="+b+"&page="+d+"&sort="+c,url:"/wp-content/themes/wheels/comment-ajax.php",success:function(f){jQuery("#comment-loader").html(f);jQuery("#comment-loader .sort-comments").combobox();jQuery("#comment-loader .sort-comments").bind("comboboxselected",function(h,l){var g=jQuery("#commentPostId").val();var k=jQuery("#comment-loader .sort-comments").val();var j=jQuery("#currentCommentPage").val();loadComment(g,j,k,false)});if(a){if(window.location.hash){var e=window.location.hash.replace("#","");jQuery("html, body").animate({scrollTop:jQuery('a[name="comment-container"]').offset().top-180},500)}}},beforeSend:function(){},error:function(){}});return false}function commentPopularity(b,c,a,d){jQuery.ajax({async:false,type:"post",data:"comment_id="+b+"&action="+c,url:"/wp-content/themes/wheels/comment-popularity-ajax.php",success:function(e){d.css("opacity",1);a.text(e)},beforeSend:function(){d.css("opacity",0.5)},error:function(){}});return false}function getUrlVars(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d}if(typeof(LOAD_USED_CAR)!="undefined"){loadUsedCar(VEHICLE_MAKE,VEHICLE_MODEL,"",VEHICLE_CLASS,"style_1",4)}$("#register-form").live("submit",function(){$("div.content div.registration-form .status").empty();$("div.content div.registration-form #agree-terms").next(".agree-terms").css("color","#222222");var a=false;var c="";var g="";var d="";var b="";if($.trim($("div.content div.registration-form #reg-email").val())==""){c="Email address required.";a=true}if($.trim($("div.content div.registration-form #username").val())==""){g="Username required.";a=true}if($.trim($("div.content div.registration-form #password").val())==""){d="Password required.";a=true}if($.trim($("div.content div.registration-form #password2").val())==""){b="Confirm password required.";a=true}if(!$("div.content div.registration-form #agree-terms").next(".agree-terms").hasClass("checked")){$("div.content div.registration-form #agree-terms").next(".agree-terms").css("color","red");a=true}if(a){var e={error:"true",email:c,username:g,pass:d,pass2:b};show_status(e)}else{var f=$("#register-form").serialize();$.ajax({type:"POST",cache:false,url:"/wp-content/plugins/wheels-my-wheels/ajax-call.php",data:f,dataType:"json",beforeSend:function(){$("#modal-screens #registration .registration-form  #reg-submit-loading").html('<img src="/wp-content/themes/wheels/img/ajax-loader.gif" alt="" />')},success:function(h){$("#modal-screens #registration .registration-form  #reg-submit-loading").html("");show_status(h)}})}return false});$("#terms_link").live("click",function(){$("#termsview").trigger($.Events.OPEN)});$("#modal-screens #close-term").live("click",function(){$("#registration").trigger($.Events.OPEN)});$("#modal-screens #close-confirmation").live("click",function(){window.location=document.URL});function show_status(a){if(a.error=="true"){if(a.email!=""){$("div.content div.registration-form .email-status").removeClass("available");$("div.content div.registration-form .email-status").html(a.email);$("div.content div.registration-form .email-status").addClass("error")}if(a.username!=""){$("div.content div.registration-form .username-status").removeClass("available");$("div.content div.registration-form .username-status").html(a.username);$("div.content div.registration-form .username-status").addClass("error")}if(a.pass!=""){$("div.content div.registration-form .pass-status").removeClass("available");$("div.content div.registration-form .pass-status").html(a.pass);$("div.content div.registration-form .pass-status").addClass("error")}if(a.pass2!=""){$("div.content div.registration-form .pass2-status").removeClass("available");$("div.content div.registration-form .pass2-status").html(a.pass2);$("div.content div.registration-form .pass2-status").addClass("error")}return false}else{$("#confirmation").trigger($.Events.OPEN)}}$("#signin-form").live("submit",function(){if($("#wp-pwd").val()!=""){return true}$("div.content div.email-signin .status").empty();var a=false;var b="";var c="";if($.trim($("div.content div.email-signin #signin-form #email").val())==""){b="Email address required.";a=true}if($.trim($("div.content div.email-signin #signin-form #password").val())==""){c="Password required.";a=true}if(a){var d={error:"true",email:b,pass:c,login:""};show_status1(d)}else{var e=$("#signin-form").serialize();$.ajax({type:"POST",cache:false,url:"/wp-content/plugins/wheels-my-wheels/ajax-call.php",data:e,dataType:"json",success:function(f){show_status1(f)}})}return false});function show_status1(d){if(d.error=="true"){if(d.email!=""){$("div.content div.email-signin .email-status").html(d.email);$("div.content div.email-signin .email-status").addClass("error")}if(d.pass!=""){$("div.content div.email-signin .pass-status").html(d.pass);$("div.content div.email-signin .pass-status").addClass("error")}if(d.login!=""){$("div.content div.email-signin .login-status").html(d.login);$("div.content div.email-signin .login-status").addClass("error")}return false}else{$("#wp-log").val(d.username);$("#wp-pwd").val($("#password").val());var c=d.redir_url;var e=c.split("?");var a=e[0];var b=d.site_url;if(a==b+"/lostpassword"){$("#wp-redir").val(b)}else{$("#wp-redir").val(d.redir_url)}$("#signin-form").attr("action","/wp-login.php");$("#signin-form").submit()}}jQuery(document).ready(function(f){f("#finish").css("float","left");f("#finish").css("clear","both");var a=getUrlVars();if(a.act=="opensignup"){setTimeout(function(){f("#registration").trigger(f.Events.OPEN)},100)}else{}f(".avt-lnk").live("click",function(){var j=f(this).children("img").attr("src");f(".avatar-selection img.current-avatar").attr("src",j);f("#hdn_avatar").val(f(this).attr("rel"));return false});f("#via-continue").click(function(){f("#register-form #email").val(f("#via-email").val())});rajax_obj1=new rajax("form_upload",{finputs:{file:{button:"upload_link",multipleFile:false,allowedExt:"jpg|jpeg|gif|png",selectedFileClass:"selectedFileClass",selectedFileLabel:"selected_basic_file",onChange:function(j,k){setTimeout(function(){rajax_obj1.post()},100);return true}}},responseType:"json",onSubmit:function(){f("#form_upload .current-avatar").attr("src","/wp-content/themes/wheels/img/ajax-loader.gif")},action:"/wp-content/plugins/wheels-my-wheels/rajax.php",onComplete:function(j){if(j.error=="false"){f("#form_upload .current-avatar").attr("src",j.filepath);f("#hdn_avatar").val(j.filename);f("#hdn_avatar_path").val(j.filepath)}f("#form_upload")[0].reset()}});getCompareCount();jQuery(".callout, a.compare-vehicle").live("click",function(){if(jQuery(this).attr("rel")!=""){var j=jQuery(this).attr("rel");var k=false;f.each(sponsoredlList,function(m,n){if(j==n){k=true;return false}});if(k){f("#galert").trigger(f.Events.OPEN);f("#galert #galert-title").html("Vehicle already exists as default sponsored item.");return false}if(acodeExists(jQuery(this).attr("rel"))){return false}var l=addToCompare(jQuery(this).attr("rel"),3);if(l){jQuery("#compare-menu-item a").text("compare ("+l+")");getCompareCount();f("#galert").trigger(f.Events.OPEN);f("#galert #galert-title").html("Vehicle added to compare.");if(typeof window.fillComparePage=="function"){fillComparePage()}fillCompareCart()}else{f("#galert").trigger(f.Events.OPEN);f("#galert #galert-title").html("You have reached max limit")}return false}});jQuery("#filter-make").bind("comboboxselected",function(j,k){updateModel("filter-model",k.item.className)});jQuery("#comment-loader  a.page-numbers").live("click",function(){var j=jQuery("#commentPostId").val();var m=jQuery("#comment-loader .sort-comments").val();var l=jQuery(this).attr("href").split("=");var k=l[1];if(typeof(k)=="undefined"){k=1}loadComment(j,k,m,false);return false});jQuery(".comments .like").live("click",function(){if(typeof(LOGGED_IN)=="undefined"||LOGGED_IN=="false"){alert("Login required");return false}var j=jQuery(this).attr("rel");return commentPopularity(j,"add",jQuery(this).next(),jQuery(this).parent())});jQuery(".comments .dislike").live("click",function(){if(typeof(LOGGED_IN)=="undefined"||LOGGED_IN=="false"){alert("Login required");return false}var j=jQuery(this).attr("rel");return commentPopularity(j,"remove",jQuery(this).prev(),jQuery(this).parent())});jQuery(".commentform").submit(function(){var k=new Array();if(jQuery("#author",this).length&&jQuery.trim(jQuery("#author",this).val())==""){jQuery("#author",this).css("border","1px solid #f00");k[0]=false}else{jQuery("#author",this).css("border","none")}var j=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,6}$/;if(jQuery("#email",this).length&&jQuery.trim(jQuery("#email",this).val())==""){jQuery("#email",this).css("border","1px solid #f00");k[0]=false}else{if(jQuery("#email",this).length&&j.test(jQuery("#email",this).val())==false){jQuery("#email",this).css("border","1px solid #f00");k[0]=false}else{jQuery("#email",this).css("border","none")}}if(jQuery.trim(jQuery("#comment",this).val())==""){jQuery("#comment",this).css("border","1px solid #f00");k[0]=false}else{jQuery("#comment",this).css("border","none")}if(k.length>0){return false}});jQuery("#browse-categories ul li a, .find-next-vehicle ul li a").click(function(){jQuery("#vehicle-finder-category").val(jQuery.trim(jQuery(this).text()));jQuery("#header-vehicle-finder-category-form").submit();return false});jQuery(".review-and-profile .links a").click(function(){jQuery("#vehicle-finder-category").attr("name","class").val(jQuery.trim(jQuery(this).attr("rel")));jQuery("#header-vehicle-finder-category-form").submit();return false});for(i=1;i<=4;i++){var h=f("li.footer-navigation-"+i);var d=h.attr("class");h.wrap('<div class=" '+d+' col" />');h.find("a:first").wrap("<h5/>");var c=h.html();var b=h.parent();h.remove();b.prepend(c)}if(typeof(LOAD_COMMENT)!="undefined"&&typeof(POST_ID)!="undefined"){loadComment(POST_ID,1,"recent",true)}f("#term-service-link").live("click",function(){f("#termsview").trigger(f.Events.OPEN);return false});f("#via-continue").click(function(){f("#register-form #email").val(f("#via-email").val());return false});f("#via-email-form").submit(function(){f("#register-form #email").val(f("#via-email").val());f("#registration").trigger(f.Events.OPEN);return false});jQuery(".carousel-bullets:eq(1)").hide();jQuery(".order-by-list li, .pill-menu li").click(function(){if(jQuery(".pill-menu li").length){var j=jQuery(".pill-menu li").index(jQuery(this))}else{var j=jQuery(".order-by-list li").index(jQuery(this))}jQuery(".reviewCarouselContainer").hide();jQuery(".carousel-bullets").hide();jQuery(".reviewCarouselContainer:eq("+j+")").show();jQuery(".carousel-bullets:eq("+j+")").show();jQuery(".pill-menu li").removeClass("on");jQuery(".order-by-list li").removeClass("on");jQuery(this).addClass("on");return false});jQuery(".review-count").click(function(){jQuery("html, body").animate({scrollTop:jQuery('a[name="comment-container"]').offset().top-180},500)});if(jQuery("#used-car-instead-answer-center").length){loadUsedCar2(4)}setTimeout(function(){if(jQuery("#used-car-instead-answer-center").length){loadUsedCar2(4)}},2000);if(sponsoredAcode==undefined){var g=getLocalstorageItem("compare");var e=JSON.parse(g);if(e.vehicles.length>0){getClassFor(e.vehicles[0],false)}else{sponsoredAcode=sponsoredlList.Sedan;if(f("body.compare h1").length>0){fillComparePage()}fillCompareCart()}}jQuery("#vehicle-filters li.class, #vehicle-filters li.make:eq(1), #vehicle-filters li.price").addClass("open");jQuery("#vehicle-filters li.class .collapsible, #vehicle-filters li.make:eq(1) .collapsible, #vehicle-filters li.price .collapsible").slideDown()});function getClassFor(a){$.ajax({type:"POST",async:false,url:"/wp-content/plugins/wheels-compare/ajax-call.php",data:"request_acode="+a,dataType:"html",beforeSend:function(){},success:function(b){if(sponsoredlList[b]==undefined){sponsoredAcode=sponsoredlList.Sedan}else{sponsoredAcode=sponsoredlList[b]}if($("body.compare h1").length>0){fillComparePage()}fillCompareCart()}})};
function MatchClass(a){this.text=a;this.regExp=/http:\/\/[^ ]+/g;this.links=new Array}MatchClass.prototype.getTweet=function(){if(this.regExp.test(this.text)){this.links=this.text.match(this.regExp);this.tweet=this.addLink(this.text,this.links)}else{this.tweet=this.text}return this.tweet};MatchClass.prototype.addLink=function(b,a){for(x in a){b=b.replace(a[x],'<a target="_blank" href="'+a[x]+'">'+a[x]+"</a>")}return b};function loadTwitterWidget(d,b){var c=true;var a=true;var f=true;var e=new Array();e[0]=d+" "+b;e[1]=d;$("#make_tags").empty();$("#make_tags").html(e[0]);$("#model_tags").empty();$("#model_tags").html(e[1]);$.each(e,function(g,h){$.ajax({data:"q="+h+"&rpp=8&callback=?",type:"POST",url:"http://search.twitter.com/search.json",dataType:"jsonp",success:function(k){for(key in k.results){var i=k.results[key]["created_at"].split(" ");var j=i[1]+" "+i[2];a=new MatchClass(k.results[key]["text"]);f=a.getTweet();c="<p>"+f+'</p><strong class="date">'+j+'</strong><a href="http://twitter.com/intent/tweet?in_reply_to='+k.results[key]["id"]+'" class="reply">Reply</a>';if(g==0){$("#make_slide_wrap_"+key).empty();$("#make_slide_wrap_"+key).html(c)}if(g==1){$("#model_slide_wrap_"+key).empty();$("#model_slide_wrap_"+key).html(c)}c=""}}})})}jQuery(document).ready(function(){jQuery(".vehicle-profile-container .vehicle-profile").bind("comboboxselected",function(b,c){var a="/vehicles/"+c.item.value;document.location.href=c.item.value});if(typeof(LOAD_VEHICLE_PAGE_USED_CAR)!="undefined"){loadUsedCar(VEHICLE_MAKE3,VEHICLE_MODEL3,VEHICLE_YEAR3,VEHICLE_CLASS3,"style_1",4)}jQuery("#vehicles .order-by-list li").click(function(){var a=jQuery("#vehicles .order-by-list li").index(jQuery(this));jQuery("#vehicles .carousel").hide();jQuery("#vehicles .carousel:eq("+a+")").show();jQuery("#vehicles .order-by-list li").removeClass("on");jQuery(this).addClass("on");return false})});
